{"version":3,"sources":["week6/all.js"],"names":["slider","document","querySelector","productCards","querySelectorAll","startX","startDragHandler","e","classList","add","pageX","dragHandler","contains","preventDefault","scrollLeft","stopDragHandler","remove","viewProductDetail","location","href","addEventListener","length","forEach","item"],"mappings":";;AAAA,CAAC,YAAY;AACX,MAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAf;AACA,MAAMC,YAAY,GAAGF,QAAQ,CAACG,gBAAT,CAA0B,eAA1B,CAArB;AACA,MAAIC,MAAM,GAAG,CAAb;AAEA;;;;;AAIA,WAASC,gBAAT,CAA0BC,CAA1B,EAA6B;AAC3BP,IAAAA,MAAM,CAACQ,SAAP,CAAiBC,GAAjB,CAAqB,eAArB;AACAJ,IAAAA,MAAM,GAAGE,CAAC,CAACG,KAAX;AACD;AAED;;;;;;AAIA,WAASC,WAAT,CAAqBJ,CAArB,EAAwB;AACtB,QAAIP,MAAM,CAACQ,SAAP,CAAiBI,QAAjB,CAA0B,eAA1B,CAAJ,EAAgD;AAC9CL,MAAAA,CAAC,CAACM,cAAF,GAD8C,CAE9C;AACA;;AACAb,MAAAA,MAAM,CAACc,UAAP,IAAqB,CAACP,CAAC,CAACG,KAAF,GAAUL,MAAX,IAAqB,CAA1C;AACAA,MAAAA,MAAM,GAAGE,CAAC,CAACG,KAAX;AACD;AACF;AAED;;;;;;AAIA,WAASK,eAAT,CAAyBR,CAAzB,EAA4B;AAC1BP,IAAAA,MAAM,CAACQ,SAAP,CAAiBQ,MAAjB,CAAwB,eAAxB;AACD;AAED;;;;;;AAIA,WAASC,iBAAT,CAA2BV,CAA3B,EAA8B;AAC5BW,IAAAA,QAAQ,CAACC,IAAT,GAAgB,aAAhB;AACD,GA1CU,CA4CX;;;AACA,MAAInB,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAACoB,gBAAP,CAAwB,WAAxB,EAAqCd,gBAArC;AACAN,IAAAA,MAAM,CAACoB,gBAAP,CAAwB,WAAxB,EAAqCT,WAArC;AACAX,IAAAA,MAAM,CAACoB,gBAAP,CAAwB,SAAxB,EAAmCL,eAAnC;AACAf,IAAAA,MAAM,CAACoB,gBAAP,CAAwB,YAAxB,EAAsCL,eAAtC;AACD,GAlDU,CAoDX;;;AACA,MAAIZ,YAAY,CAACkB,MAAjB,EAAyB;AACvBlB,IAAAA,YAAY,CAACmB,OAAb,CAAqB,UAACC,IAAD,EAAU;AAC7BA,MAAAA,IAAI,CAACH,gBAAL,CAAsB,OAAtB,EAA+BH,iBAA/B;AACD,KAFD;AAGD;AACF,CA1DD","sourcesContent":["(function () {\r\n  const slider = document.querySelector('.slider');\r\n  const productCards = document.querySelectorAll('.product-card');\r\n  let startX = 0;\r\n\r\n  /**\r\n   * 開始拖曳事件\r\n   * @param {object} e event\r\n   */\r\n  function startDragHandler(e) {\r\n    slider.classList.add('slider-active');\r\n    startX = e.pageX;\r\n  }\r\n\r\n  /**\r\n   * 拖曳事件\r\n   * @param {object} e event\r\n   */\r\n  function dragHandler(e) {\r\n    if (slider.classList.contains('slider-active')) {\r\n      e.preventDefault();\r\n      // 假設按下去 pageX 100，即 startX 100\r\n      // 往左移動，pageX 會不斷減少，即 pageX - startX 為負\r\n      slider.scrollLeft -= (e.pageX - startX) * 3;\r\n      startX = e.pageX;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 停止拖曳事件\r\n   * @param {object} e event\r\n   */\r\n  function stopDragHandler(e) {\r\n    slider.classList.remove('slider-active');\r\n  }\r\n\r\n  /**\r\n   * 查看商品明細\r\n   * @param {object} e 點擊事件的物件\r\n   */\r\n  function viewProductDetail(e) {\r\n    location.href = 'detail.html';\r\n  }\r\n\r\n  // 加入滑動的偵聽事件\r\n  if (slider) {\r\n    slider.addEventListener('mousedown', startDragHandler);\r\n    slider.addEventListener('mousemove', dragHandler);\r\n    slider.addEventListener('mouseup', stopDragHandler);\r\n    slider.addEventListener('mouseleave', stopDragHandler);\r\n  }\r\n\r\n  // 加入 product card 的偵聽事件\r\n  if (productCards.length) {\r\n    productCards.forEach((item) => {\r\n      item.addEventListener('click', viewProductDetail);\r\n    });\r\n  }\r\n})();\r\n"],"file":"all.js"}